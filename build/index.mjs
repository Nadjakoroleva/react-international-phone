import j,{useMemo as Ne,useRef as Ie,useState as Me}from"react";var N=[["Afghanistan","af","93"],["Albania","al","355"],["Algeria","dz","213"],["Andorra","ad","376"],["Angola","ao","244"],["Antigua and Barbuda","ag","1268"],["Argentina","ar","54","(..) ........",0],["Armenia","am","374",".. ......"],["Aruba","aw","297"],["Australia","au","61",". .... ....",0],["Austria","at","43"],["Azerbaijan","az","994","(..) ... .. .."],["Bahamas","bs","1242"],["Bahrain","bh","973"],["Bangladesh","bd","880"],["Barbados","bb","1246"],["Belarus","by","375","(..) ... .. .."],["Belgium","be","32","... .. .. .."],["Belize","bz","501"],["Benin","bj","229"],["Bhutan","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina","ba","387"],["Botswana","bw","267"],["Brazil","br","55","(..) ........."],["British Indian Ocean Territory","io","246"],["Brunei","bn","673"],["Bulgaria","bg","359"],["Burkina Faso","bf","226"],["Burundi","bi","257"],["Cambodia","kh","855"],["Cameroon","cm","237"],["Canada","ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde","cv","238"],["Caribbean Netherlands","bq","599","",1],["Central African Republic","cf","236"],["Chad","td","235"],["Chile","cl","56"],["China","cn","86","... .... ...."],["Colombia","co","57","... ... ...."],["Comoros","km","269"],["Congo","cd","243"],["Congo","cg","242"],["Costa Rica","cr","506","....-...."],["C\xF4te d'Ivoire","ci","225",".. .. .. .. .."],["Croatia","hr","385"],["Cuba","cu","53"],["Cura\xE7ao","cw","599","",0],["Cyprus","cy","357",".. ......"],["Czech Republic","cz","420","... ... ..."],["Denmark","dk","45",".. .. .. .."],["Djibouti","dj","253"],["Dominica","dm","1767"],["Dominican Republic","do","1","",2],["Ecuador","ec","593"],["Egypt","eg","20"],["El Salvador","sv","503","....-...."],["Equatorial Guinea","gq","240"],["Eritrea","er","291"],["Estonia","ee","372",".... ......"],["Ethiopia","et","251"],["Fiji","fj","679"],["Finland","fi","358",".. ... .. .."],["France","fr","33",". .. .. .. .."],["French Guiana","gf","594"],["French Polynesia","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia","ge","995"],["Germany","de","49",".... ........"],["Ghana","gh","233"],["Greece","gr","30"],["Grenada","gd","1473"],["Guadeloupe","gp","590","",0],["Guam","gu","1671"],["Guatemala","gt","502","....-...."],["Guinea","gn","224"],["Guinea-Bissau","gw","245"],["Guyana","gy","592"],["Haiti","ht","509","....-...."],["Honduras","hn","504"],["Hong Kong","hk","852",".... ...."],["Hungary","hu","36"],["Iceland","is","354","... ...."],["India","in","91",".....-....."],["Indonesia","id","62"],["Iran","ir","98","... ... ...."],["Iraq","iq","964"],["Ireland","ie","353",".. ......."],["Israel","il","972","... ... ...."],["Italy","it","39","... .......",0],["Jamaica","jm","1876"],["Japan","jp","81",".. .... ...."],["Jordan","jo","962"],["Kazakhstan","kz","7","... ...-..-..",0],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait","kw","965"],["Kyrgyzstan","kg","996","... ... ..."],["Laos","la","856"],["Latvia","lv","371",".. ... ..."],["Lebanon","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya","ly","218"],["Liechtenstein","li","423"],["Lithuania","lt","370"],["Luxembourg","lu","352"],["Macau","mo","853"],["Macedonia","mk","389"],["Madagascar","mg","261"],["Malawi","mw","265"],["Malaysia","my","60","..-....-...."],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania","mr","222"],["Mauritius","mu","230"],["Mexico","mx","52","... ... ....",0],["Micronesia","fm","691"],["Moldova","md","373","(..) ..-..-.."],["Monaco","mc","377"],["Mongolia","mn","976"],["Montenegro","me","382"],["Morocco","ma","212"],["Mozambique","mz","258"],["Myanmar","mm","95"],["Namibia","na","264"],["Nauru","nr","674"],["Nepal","np","977"],["Netherlands","nl","31",".. ........"],["New Caledonia","nc","687"],["New Zealand","nz","64","...-...-...."],["Nicaragua","ni","505"],["Niger","ne","227"],["Nigeria","ng","234"],["North Korea","kp","850"],["Norway","no","47","... .. ..."],["Oman","om","968"],["Pakistan","pk","92","...-......."],["Palau","pw","680"],["Palestine","ps","970"],["Panama","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru","pe","51"],["Philippines","ph","63",".... ......."],["Poland","pl","48","...-...-..."],["Portugal","pt","351"],["Puerto Rico","pr","1","",3],["Qatar","qa","974"],["R\xE9union","re","262"],["Romania","ro","40"],["Russia","ru","7","(...) ...-..-..",1],["Rwanda","rw","250"],["Saint Kitts and Nevis","kn","1869"],["Saint Lucia","lc","1758"],["Saint Vincent and the Grenadines","vc","1784"],["Samoa","ws","685"],["San Marino","sm","378"],["S\xE3o Tom\xE9 and Pr\xEDncipe","st","239"],["Saudi Arabia","sa","966"],["Senegal","sn","221"],["Serbia","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65","....-...."],["Slovakia","sk","421"],["Slovenia","si","386"],["Solomon Islands","sb","677"],["Somalia","so","252"],["South Africa","za","27"],["South Korea","kr","82","... .... ...."],["South Sudan","ss","211"],["Spain","es","34","... ... ..."],["Sri Lanka","lk","94"],["Sudan","sd","249"],["Suriname","sr","597"],["Swaziland","sz","268"],["Sweden","se","46","(...) ...-..."],["Switzerland","ch","41",".. ... .. .."],["Syria","sy","963"],["Taiwan","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tonga","to","676"],["Trinidad and Tobago","tt","1868"],["Tunisia","tn","216"],["Turkey","tr","90","... ... .. .."],["Turkmenistan","tm","993"],["Tuvalu","tv","688"],["Uganda","ug","256"],["Ukraine","ua","380","(..) ... .. .."],["United Arab Emirates","ae","971"],["United Kingdom","gb","44",".... ......"],["United States","us","1","(...) ...-....",0],["Uruguay","uy","598"],["Uzbekistan","uz","998",".. ... .. .."],["Vanuatu","vu","678"],["Vatican City","va","39",".. .... ....",1],["Venezuela","ve","58"],["Vietnam","vn","84"],["Yemen","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"]];var he="react-international-phone-",te=(...t)=>t.filter(e=>!!e).join(" ").trim(),ge=(...t)=>te(...t).split(" ").map(e=>`${he}${e}`).join(" "),b=({addPrefix:t,rawClassNames:e})=>te(ge(...t),...e);var oe=({value:t,mask:e,maskSymbol:o,offset:n=0,trimNonMaskCharsLeftover:a=!1})=>{if(t.length<n)return t;let i=t.slice(0,n),m=t.slice(n),r=i,l=0;for(let s of e.split("")){if(l>=m.length){if(!a&&s!==o){r+=s;continue}break}s===o?(r+=m[l],l+=1):r+=s}return r};var $=t=>t.replace(/\D/g,"");var be=t=>{let{name:e,iso2:o,dialCode:n,format:a,priority:i,areaCodes:m}=t,r=[e,o,n,a,i,m];for(let l=0;l<r.length;l+=1){if(l===0)continue;let s=r[l-1],c=r[l];if(s===void 0&&c!==void 0){let u=JSON.stringify(r,(D,h)=>h===void 0?"__undefined":h).replace(/"__undefined"/g,"undefined");throw new Error(`[react-international-phone] invalid country values passed to buildCountryData. Check ${s} in: ${u}`)}}return r.filter(l=>l!==void 0)};var P=t=>{let[e,o,n,a,i,m]=t;return{name:e,iso2:o,dialCode:n,format:a,priority:i,areaCodes:m}};var we=t=>`Field "${t}" is not supported`,I=({field:t,value:e,countries:o=N})=>{if(["priority"].includes(t))throw new Error(we(t));let n=o.find(a=>{let i=P(a);return e===i[t]});if(n)return P(n)};var V=({phone:t,countries:e=N,currentCountryIso2:o})=>{let n={country:void 0,fullDialCodeMatch:!1};if(!t)return n;let a=$(t);if(!a)return n;let i=n,m=({country:r,fullDialCodeMatch:l})=>{let s=r.dialCode===i.country?.dialCode,c=(r.priority??0)<(i.country?.priority??0);(!s||c)&&(i={country:r,fullDialCodeMatch:l})};for(let r of e){let l=P(r),{dialCode:s,areaCodes:c}=l;if(a.startsWith(s)){let u=i.country?Number(s)>=Number(i.country.dialCode):!0;if(c){let D=a.substring(s.length);for(let h of c)if(D.startsWith(h))return{country:l,fullDialCodeMatch:!0}}(u||s===a||!i.fullDialCodeMatch)&&m({country:l,fullDialCodeMatch:!0})}i.fullDialCodeMatch||a.length<s.length&&s.startsWith(a)&&(!i.country||Number(s)<=Number(i.country.dialCode))&&m({country:l,fullDialCodeMatch:!1})}if(o){let r=I({value:o,field:"iso2",countries:e});if(!r)return i;let s=r?(u=>{if(!u?.areaCodes)return!1;let D=a.substring(u.dialCode.length);return u.areaCodes.some(h=>h.startsWith(D))})(r):!1;!!i&&i.country?.dialCode===r.dialCode&&i.country!==r&&i.fullDialCodeMatch&&(!r.areaCodes||s)&&(i={country:r,fullDialCodeMatch:!0})}return i};var U=({phone:t,dialCode:e,prefix:o="+",charAfterDialCode:n=" "})=>{if(!t||!e)return t;let a=t;return a.startsWith(o)&&(a=a.replace(o,"")),a.startsWith(e)?(a=a.replace(e,""),a.startsWith(n)&&(a=a.replace(n,"")),a):t};var re=({phone:t,dialCode:e,prefix:o="+",charAfterDialCode:n=" "})=>`${o}${e}${n}${U({phone:t,dialCode:e,charAfterDialCode:n,prefix:o})}`;var ne=(t,e)=>{let o=e.disableDialCodeAndPrefix?!1:e.forceDialCode,n=e.disableDialCodeAndPrefix?!1:e.insertDialCodeOnEmpty,a=t,i=s=>e.trimNonDigitsEnd?s.trim():s;if(!a)return n&&!a.length||o?i(`${e.prefix}${e.dialCode}${e.charAfterDialCode}`):i(a);if(a=$(a),a===e.dialCode&&!e.disableDialCodeAndPrefix)return i(`${e.prefix}${e.dialCode}${e.charAfterDialCode}`);if(e.dialCode.startsWith(a)&&!e.disableDialCodeAndPrefix)return i(o?`${e.prefix}${e.dialCode}${e.charAfterDialCode}`:`${e.prefix}${a}`);if(!a.startsWith(e.dialCode)&&!e.disableDialCodeAndPrefix){if(o)return i(`${e.prefix}${e.dialCode}${e.charAfterDialCode}`);if(a.length<e.dialCode.length)return i(`${e.prefix}${a}`)}let m=()=>{let s=e.dialCode.length;e.disableDialCodeAndPrefix&&(s=0);let c=a.slice(0,s),u=a.slice(s);return{phoneLeftSide:c,phoneRightSide:u}},{phoneLeftSide:r,phoneRightSide:l}=m();return r=`${e.prefix}${r}${e.charAfterDialCode}`,l=oe({value:l,mask:e.mask,maskSymbol:e.maskChar,trimNonMaskCharsLeftover:e.trimNonDigitsEnd}),e.disableDialCodeAndPrefix&&(r=""),i(`${r}${l}`)};var H=t=>/\d/.test(t),ae=({phoneBeforeInput:t,phoneAfterInput:e,phoneAfterFormatted:o,cursorPositionAfterInput:n,leftOffset:a=0,deletion:i})=>{if(n<a)return a;if(!t)return o.length;let m=i==="backward";if(n===0&&e.length>0&&o.length>0){if(m)return 0;for(let u=0;u<o.length;u+=1)if(H(o[u]))return u;return o.length}if(e.length<t.length&&e.length===1)return o.length;let r=null;for(let u=n-1;u>=0;u-=1)if(H(e[u])){r=u;break}if(r===null)return n!==0?n:o.length;let l=0;for(let u=0;u<r;u+=1)H(e[u])&&(l+=1);m&&(l-=1);let s=0,c=0;for(let u=0;u<o.length&&(s+=1,H(o[u])&&(c+=1),c!==l+1);u+=1);for(;!H(o[s])&&s<o.length;)s+=1;return m&&(s+=1),s};import ie from"react";var ve=(t,e)=>{let o=parseInt(t,16);return Number(o+e).toString(16)},xe="abcdefghijklmnopqrstuvwxyz",De="1f1e6",se=xe.split("").reduce((t,e,o)=>({...t,[e]:ve(De,o)}),{}),Se=t=>[se[t[0]],se[t[1]]].join("-"),K=({iso2:t,size:e,src:o,protocol:n="https",disableLazyLoading:a,className:i,style:m,...r})=>{if(!t)return ie.createElement("img",{className:b({addPrefix:["flag-emoji"],rawClassNames:[i]}),width:e,height:e,...r});let l=()=>{if(o)return o;let s=Se(t);return`${n}://cdnjs.cloudflare.com/ajax/libs/twemoji/14.0.2/svg/${s}.svg`};return ie.createElement("img",{className:b({addPrefix:["flag-emoji"],rawClassNames:[i]}),src:l(),width:e,height:e,draggable:!1,"data-country":t,loading:a?void 0:"lazy",style:{width:e,height:e,...m},alt:"",...r})};import O,{useCallback as le,useEffect as de,useRef as q,useState as Pe}from"react";var ke=1e3,J=({show:t,dialCodePrefix:e="+",selectedCountry:o,countries:n=N,flags:a,onSelect:i,onClose:m,...r})=>{let l=q(null),s=q(),c=q({updatedAt:void 0,value:""}),u=d=>{let v=c.current.updatedAt&&new Date().getTime()-c.current.updatedAt.getTime()>ke;c.current={value:v?d:`${c.current.value}${d}`,updatedAt:new Date};let p=n.findIndex(x=>P(x).name.toLowerCase().startsWith(c.current.value));p!==-1&&w(p)},D=le(d=>n.findIndex(v=>P(v).iso2===d),[n]),[h,w]=Pe(D(o)),f=()=>{s.current!==o&&w(D(o))},y=le(d=>{w(D(d.iso2)),i?.(d)},[i,D]),k=d=>{let v=n.length-1,p=x=>d==="prev"?x-1:d==="next"?x+1:d==="last"?v:0;w(x=>{let L=p(x);return L<0?0:L>v?v:L})},E=d=>{if(d.stopPropagation(),d.key==="Enter"){d.preventDefault();let v=P(n[h]);y(v);return}if(d.key==="Escape"){m?.();return}if(d.key==="ArrowUp"){d.preventDefault(),k("prev");return}if(d.key==="ArrowDown"){d.preventDefault(),k("next");return}if(d.key==="PageUp"){d.preventDefault(),k("first");return}if(d.key==="PageDown"){d.preventDefault(),k("last");return}d.key===" "&&d.preventDefault(),d.key.length===1&&!d.altKey&&!d.ctrlKey&&!d.metaKey&&u(d.key.toLocaleLowerCase())};return de(()=>{l.current&&(t?l.current.focus():f())},[t]),de(()=>{f()},[o]),O.createElement("ul",{ref:l,role:"listbox",className:b({addPrefix:["country-selector-dropdown"],rawClassNames:[r.className]}),style:{display:t?"block":"none",...r.style},onKeyDown:E,onBlur:m,tabIndex:-1,"aria-activedescendant":`${P(n[h]).iso2}-option`},n.map((d,v)=>{let p=P(d),x=p.iso2===o,L=v===h,T=a?.find(B=>B.iso2===p.iso2);return O.createElement("li",{key:p.iso2,"data-country":p.iso2,role:"option","aria-selected":x,"aria-label":`${p.name} ${e}${p.dialCode}`,id:`${p.iso2}-option`,className:b({addPrefix:["country-selector-dropdown__list-item",x&&"country-selector-dropdown__list-item--selected",L&&"country-selector-dropdown__list-item--focused"],rawClassNames:[r.listItemClassName]}),onClick:()=>y(p),style:r.listItemStyle},O.createElement(K,{iso2:p.iso2,src:T?.src,className:b({addPrefix:["country-selector-dropdown__list-item-flag-emoji"],rawClassNames:[r.listItemFlagClassName]}),style:r.listItemFlagStyle}),O.createElement("span",{className:b({addPrefix:["country-selector-dropdown__list-item-country-name"],rawClassNames:[r.listItemCountryNameClassName]}),style:r.listItemCountryNameStyle},p.name),O.createElement("span",{className:b({addPrefix:["country-selector-dropdown__list-item-dial-code"],rawClassNames:[r.listItemDialCodeClassName]}),style:r.listItemDialCodeStyle},e,p.dialCode))}))};var Z=({selectedCountry:t,onSelect:e,disabled:o,hideDropdown:n,countries:a=N,flags:i,renderButtonWrapper:m,...r})=>{let[l,s]=Me(!1),c=Ne(()=>{if(t)return I({value:t,field:"iso2",countries:a})},[a,t]),u=Ie(null),D=w=>{w.key&&["ArrowUp","ArrowDown"].includes(w.key)&&(w.preventDefault(),s(!0))},h=()=>{let w={title:c?.name,onClick:()=>s(y=>!y),onMouseDown:y=>y.preventDefault(),onKeyDown:D,disabled:n||o,role:"combobox","aria-label":"Country selector","aria-haspopup":"listbox","aria-expanded":l},f=j.createElement("div",{className:b({addPrefix:["country-selector-button__button-content"],rawClassNames:[r.buttonContentWrapperClassName]}),style:r.buttonContentWrapperStyle},j.createElement(K,{iso2:t,src:i?.find(y=>y.iso2===t)?.src,className:b({addPrefix:["country-selector-button__flag-emoji",o&&"country-selector-button__flag-emoji--disabled"],rawClassNames:[r.flagClassName]}),style:{visibility:t?"visible":"hidden",...r.flagStyle}}),!n&&j.createElement("div",{className:b({addPrefix:["country-selector-button__dropdown-arrow",o&&"country-selector-button__dropdown-arrow--disabled",l&&"country-selector-button__dropdown-arrow--active"],rawClassNames:[r.dropdownArrowClassName]}),style:r.dropdownArrowStyle}));return m?m({children:f,rootProps:w}):j.createElement("button",{...w,type:"button",className:b({addPrefix:["country-selector-button",l&&"country-selector-button--active",o&&"country-selector-button--disabled",n&&"country-selector-button--hide-dropdown"],rawClassNames:[r.buttonClassName]}),"data-country":t,style:r.buttonStyle},f)};return j.createElement("div",{className:b({addPrefix:["country-selector"],rawClassNames:[r.className]}),style:r.style,ref:u},h(),j.createElement(J,{show:l,countries:a,flags:i,onSelect:w=>{s(!1),e?.(w)},selectedCountry:t,onClose:()=>{s(!1)},...r.dropdownStyleProps}))};import Te from"react";var Q=({dialCode:t,prefix:e,disabled:o,style:n,className:a})=>Te.createElement("div",{className:b({addPrefix:["dial-code-preview",o&&"dial-code-preview--disabled"],rawClassNames:[a]}),style:n},`${e}${t}`);import W,{useMemo as je}from"react";import{useEffect as Re,useRef as _e}from"react";var ue=(t,e,o)=>{let n=_e(void 0);(!n.current||!o(e,n.current))&&(n.current=e),Re(t,n.current)};import{useEffect as fe,useMemo as Le,useRef as Ae,useState as ze}from"react";import{useState as X}from"react";import{useRef as ce}from"react";var pe=()=>{let t=ce(),e=ce(Date.now());return{check:()=>{let n=Date.now(),a=t.current?n-e.current:void 0;return t.current=e.current,e.current=n,a}}};var Ee={size:20,overrideLastItemDebounceMS:-1};function me(t,e){let{size:o,overrideLastItemDebounceMS:n,onChange:a}={...Ee,...e},[i,m]=X(t),[r,l]=X([i]),[s,c]=X(0),u=pe();return[i,(f,y)=>{if(typeof f=="object"&&Object.entries(f).toString()===Object.entries(i).toString()||f===i)return;let k=n>0,E=u.check(),d=k&&E!==void 0?E>n:!0;if(y?.overrideLastItem!==void 0?y.overrideLastItem:!d)l(p=>[...p.slice(0,s),f]);else{let p=r.length>=o;l(x=>[...x.slice(p?1:0,s+1),f]),p||c(x=>x+1)}m(f),a?.(f)},()=>{if(s<=0)return{success:!1};let f=r[s-1];return m(f),c(y=>y-1),a?.(f),{success:!0,value:f}},()=>{if(s+1>=r.length)return{success:!1};let f=r[s+1];return m(f),c(y=>y+1),a?.(f),{success:!0,value:f}}]}var $e=".",M={defaultCountry:"us",value:"",prefix:"+",defaultMask:"............",charAfterDialCode:" ",historySaveDebounceMS:200,disableCountryGuess:!1,disableDialCodePrefill:!1,forceDialCode:!1,disableDialCodeAndPrefix:!1,countries:N},Y=({defaultCountry:t=M.defaultCountry,value:e=M.value,countries:o=M.countries,prefix:n=M.prefix,defaultMask:a=M.defaultMask,charAfterDialCode:i=M.charAfterDialCode,historySaveDebounceMS:m=M.historySaveDebounceMS,disableCountryGuess:r=M.disableCountryGuess,disableDialCodePrefill:l=M.disableDialCodePrefill,forceDialCode:s=M.forceDialCode,disableDialCodeAndPrefix:c=M.disableDialCodeAndPrefix,onChange:u})=>{let D=c?!1:!r,h=Ae(null),w=({value:C,country:g,trimNonDigitsEnd:S,insertDialCodeOnEmpty:R,forceDisableCountryGuess:_})=>{let G=!_&&D?V({phone:C,countries:o,currentCountryIso2:g.iso2}):void 0,z=G?.country??g;return{phone:z?ne(C,{prefix:n,mask:z.format||a,maskChar:$e,dialCode:z.dialCode,trimNonDigitsEnd:S,charAfterDialCode:i,forceDialCode:s,insertDialCodeOnEmpty:R,disableDialCodeAndPrefix:c}):C,countryGuessResult:G,formatCountry:z}},f=C=>{Promise.resolve().then(()=>{h.current?.setSelectionRange(C,C)})},[{phone:y,country:k},E,d,v]=me(()=>{let g=(c?null:V({phone:e,countries:o,currentCountryIso2:t}))?.country||I({value:t,field:"iso2",countries:o});g||console.error(`[react-international-phone]: can not find a country with "${t}" iso2 code`);let S=g||P(o.find(_=>P(_).iso2==="us")),R=w({value:e,country:S,insertDialCodeOnEmpty:!l}).phone;return f(R.length),{phone:R,country:S.iso2}},{overrideLastItemDebounceMS:m,onChange:u}),p=Le(()=>I({value:k,field:"iso2",countries:o}),[o,k]),x=(C,{deletion:g,cursorPosition:S,insertDialCodeOnEmpty:R,inserted:_}={})=>{let A=C,G=S;s&&!c&&p&&!$(C).startsWith(p.dialCode)&&C&&(_&&C.startsWith(n)&&C.length-(S??0)===0?A=C:(A=y,G=0));let{phone:z,countryGuessResult:F}=w({value:A,country:p,trimNonDigitsEnd:g==="backward",insertDialCodeOnEmpty:R,forceDisableCountryGuess:s&&!!g&&$(A).length<p.dialCode.length}),ee=p;D&&F?.country&&F.country.name!==k&&F.fullDialCodeMatch&&(ee=F.country);let Ce=ae({cursorPositionAfterInput:G??0,phoneBeforeInput:y,phoneAfterInput:C,phoneAfterFormatted:z,leftOffset:s?n.length+(p?.dialCode?.length??0)+i.length:0,deletion:g});return E({phone:z,country:ee.iso2}),f(Ce),z};fe(()=>{let C=h.current;if(!C)return;let g=S=>{if(!S.key)return;let R=S.ctrlKey,_=S.shiftKey,A=S.key.toLowerCase()==="z";!R||!A||(_?v():d())};return C.addEventListener("keydown",g),()=>{C.removeEventListener("keydown",g)}},[h,d,v]);let L=C=>{C.preventDefault();let g=C.nativeEvent.inputType,S=()=>{if(g?.toLocaleLowerCase().includes("delete")??!1)return g?.toLocaleLowerCase().includes("forward")?"forward":"backward"},R=g?.startsWith("insertFrom"),_=x(C.target.value,{deletion:S(),inserted:R,cursorPosition:C.target.selectionStart??0});return c&&p?re({phone:_,dialCode:p.dialCode,charAfterDialCode:i,prefix:n}):_},T=C=>{let g=I({value:C,field:"iso2",countries:o});if(!g)return;let S=c?"":`${n}${g.dialCode}${i}`;E({phone:S,country:g.iso2})},[B,ye]=ze(!1);return fe(()=>{if(!B){ye(!0),e!==y&&u?.({phone:y,country:k});return}e!==y&&x(e)},[e]),{phone:y,country:k,setCountry:T,handlePhoneValueChange:L,inputRef:h}};var Be=({hideDropdown:t,placeholder:e,disabled:o,showDisabledDialCodeAndPrefix:n,inputProps:a,flags:i,onChange:m,country:r,style:l,className:s,inputStyle:c,inputClassName:u,countrySelectorStyleProps:D,dialCodePreviewStyleProps:h,value:w,countries:f=N,...y})=>{let{phone:k,inputRef:E,country:d,setCountry:v,handlePhoneValueChange:p}=Y({value:w,countries:f,...y,onChange:T=>{m?.(T.phone,T.country)}}),x=je(()=>{if(d)return I({value:d,field:"iso2",countries:f})},[f,d]);ue(()=>{r&&v(r)},[r,v],([T],[B])=>T===B);let L=y.disableDialCodeAndPrefix&&n&&x?.dialCode;return W.createElement("div",{className:b({addPrefix:["input-container"],rawClassNames:[s]}),style:l},W.createElement(Z,{onSelect:T=>v(T.iso2),flags:i,selectedCountry:d,countries:f,disabled:o,hideDropdown:t,...D}),L&&W.createElement(Q,{dialCode:x.dialCode,prefix:y.prefix??"+",disabled:o,...h}),W.createElement("input",{onChange:p,value:k,type:"tel",ref:E,className:b({addPrefix:["input",o&&"input--disabled"],rawClassNames:[u]}),placeholder:e,disabled:o,style:c,...a}))};export{Z as CountrySelector,J as CountrySelectorDropdown,Q as DialCodePreview,K as FlagEmoji,Be as PhoneInput,be as buildCountryData,N as defaultCountries,I as getCountry,V as guessCountryByPartialPhoneNumber,P as parseCountry,U as removeDialCode,Y as usePhoneInput};
